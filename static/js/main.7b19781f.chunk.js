(this.webpackJsonpiRentAutoFrontEnd=this.webpackJsonpiRentAutoFrontEnd||[]).push([[0],{22:function(e,t,a){e.exports=a.p+"static/media/loading.7a960949.gif"},24:function(e,t,a){e.exports=a(35)},29:function(e,t,a){},30:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(11),c=a.n(r),l=(a(29),a(7)),i=(a(30),a(14)),u=a(19),s=a(8),m=a(13),d=a(23),E=a(9),p=a(16),g=a(15);var f=function(e){var t=o.a.useState(),a=Object(l.a)(t,2),n=a[0],r=a[1],c=o.a.useState(),f=Object(l.a)(c,2),h=f[0],v=f[1],S=o.a.useState(.5),b=Object(l.a)(S,2),y=b[0],k=b[1],w=o.a.useState(null),N=Object(l.a)(w,2),T=(N[0],N[1]);function C(e){r((function(t){return{lat:e.coords.latitude,lng:e.coords.longitude}})),v((function(e){return"success"}))}function j(){v((function(e){return"error"}))}function x(){navigator.geolocation.getCurrentPosition(C,j)}return o.a.useEffect((function(){x()}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,null,"success"===h?o.a.createElement(u.a,null,o.a.createElement(s.a,null,"\u7576\u524d\u5ea7\u6a19"),o.a.createElement(s.a,null,"N: "+n.lat.toFixed(3)+", S: "+n.lng.toFixed(3)),o.a.createElement(s.a,{className:"maringTop20"},o.a.createElement(m.a,{sm:8},o.a.createElement(E.a,{size:"lg",className:"mb-3"},o.a.createElement(E.a.Prepend,null,o.a.createElement(E.a.Text,{id:"inputGroup-sizing-sm"},"\u8acb\u8f38\u5165AuthorToken")),o.a.createElement(p.a,{id:"deviceInput","aria-label":"Small","aria-describedby":"inputGroup-sizing-sm",defaultValue:localStorage.getItem("authorToken"),onFocus:function(e){e.target.select()}})))),o.a.createElement(s.a,{className:"maringTop20"},o.a.createElement(m.a,{sm:8},o.a.createElement(E.a,{size:"lg",className:"mb-3"},o.a.createElement(E.a.Prepend,null,o.a.createElement(E.a.Text,null,"\u8acb\u9078\u64c7\u641c\u5c0b\u534a\u5f91(KM)")),o.a.createElement(d.a.Control,{defaultValue:.5,as:"select",custom:!0,onChange:function(e){return k(e.target.value)},style:{width:"30%"}},o.a.createElement("option",null,"0.3"),o.a.createElement("option",null,"0.5"),o.a.createElement("option",null,"0.7"),o.a.createElement("option",null,"1"),o.a.createElement("option",null,"1.5"),o.a.createElement("option",null,"2"),o.a.createElement("option",null,"100"))))),o.a.createElement(s.a,null,o.a.createElement(g.c,{googleMapsApiKey:"AIzaSyCcLoBWrSwqFI5uxY_8qdhqCkse_QEcRDM"},o.a.createElement(g.a,{mapContainerStyle:{width:"100%",height:"600px"},zoom:15,onLoad:function(e){return T(e)},onClick:function(e){return r(e.latLng.toJSON())},center:n},o.a.createElement(g.d,{position:n},o.a.createElement(g.b,null,o.a.createElement("div",{className:"infoWindow",style:{color:"black"}},"\u4ee5\u9019\u88e1\u70ba\u57fa\u6e96\u641c\u5c0b")))))),o.a.createElement(s.a,{className:"maringTop20"},o.a.createElement(i.a,{variant:"info",onClick:function(){return x()},style:{marginRight:"20px"}},"\u56de\u5230\u7576\u524d\u4f4d\u7f6e"),o.a.createElement(i.a,{variant:"warning",onClick:function(){return function(){var t=document.getElementById("deviceInput").value;localStorage.setItem("authorToken",t);var a={authorToken:t,lat:n.lat,long:n.lng,radius:y};e.setLoadingStatus(!0),fetch("https://garyapi.herokuapp.com/autoSearch/",{method:"POST",body:JSON.stringify(a),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).catch((function(t){console.error("Error:",t),e.setLoadingStatus(!1)})).then((function(t){e.setStatus("busy"),e.setLoadingStatus(!1),console.log("Success:",t)}))}()}},"\u555f\u52d5\u81ea\u52d5\u9810\u7d04"))):o.a.createElement("div",null,"\u7121\u6cd5\u53d6\u5f97\u7576\u524d\u4f4d\u7f6e")))},h=(a(34),a(22)),v=a.n(h),S=function(e){return o.a.createElement("div",{id:"loader-wrapper",style:{opacity:"0.8"}},o.a.createElement("div",{id:"loader"},o.a.createElement("img",{src:v.a,alt:""})),o.a.createElement("div",{className:"loader-section section-left"}),o.a.createElement("div",{className:"loader-section section-right"}))};var b=function(){var e=o.a.useState(),t=Object(l.a)(e,2),a=t[0],n=t[1],r=o.a.useState(!1),c=Object(l.a)(r,2),u=c[0],s=c[1];function m(){s(!0),fetch("https://garyapi.herokuapp.com/checkJobExist/").then((function(e){return e.json()})).then((function(e){s(!1),n(e.message)})).catch((function(e){n("Error"),s(!1),console.log(e)}))}return o.a.useEffect((function(){m()}),[]),o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},u&&o.a.createElement(S,null),"free"===a?o.a.createElement(f,{setStatus:function(e){return n(e)},setLoadingStatus:function(e){return s(e)}}):"busy"===a?o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null,"\u6b63\u5728\u9032\u884c\u81ea\u52d5\u5316\u9810\u7d04iRent"),o.a.createElement(i.a,{variant:"danger",className:"maringTop20",onClick:function(){return s(!0),void fetch("https://garyapi.herokuapp.com/cancelAllJob/").then((function(e){return e.json()})).then((function(e){s(!1),"Success"===e.message&&m()})).catch((function(e){s(!1),console.error(e)}))}},"\u53d6\u6d88\u9810\u7d04\uff1f")):null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.7b19781f.chunk.js.map