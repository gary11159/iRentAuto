(this.webpackJsonpiRentAutoFrontEnd=this.webpackJsonpiRentAutoFrontEnd||[]).push([[0],{25:function(e,t,n){e.exports=n(36)},30:function(e,t,n){},31:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(22),c=n.n(r),l=(n(30),n(6)),u=(n(31),n(24)),i=n(13),s=n(9),m=n(19),f=n(11),E=n(14),d=n(23),p=n(7),g=n(16);var h=function(e){var t=o.a.useState(),n=Object(l.a)(t,2),a=n[0],r=n[1],c=o.a.useState(),h=Object(l.a)(c,2),v=h[0],S=h[1],b=o.a.useState("cur"),k=Object(l.a)(b,2),y=k[0],T=k[1],w=o.a.useState(.5),N=Object(l.a)(w,2),j=N[0],C=N[1];function F(e){r((function(t){return{lat:e.coords.latitude,long:e.coords.longitude}})),S((function(e){return"success"}))}function O(){S((function(e){return"error"}))}return o.a.useEffect((function(){navigator.geolocation.getCurrentPosition(F,O)}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{type:"radio",name:"options",defaultValue:y,style:{width:"70%"}},o.a.createElement(i.a,{value:"cur",onClick:function(){return T("cur")}},"\u7576\u524d\u4f4d\u7f6e"),o.a.createElement(i.a,{value:"specify",onClick:function(){return T("specify")}},"\u6307\u5b9a\u4f4d\u7f6e")),"cur"===y&&o.a.createElement(m.a,{className:"maringTop20"},"success"===v?o.a.createElement(m.a,null,o.a.createElement(f.a,null,"\u7576\u524d\u5ea7\u6a19"),o.a.createElement(f.a,null,"N: "+a.lat.toFixed(3)+", S: "+a.long.toFixed(3)),o.a.createElement(f.a,{className:"maringTop20"},o.a.createElement(E.a,{sm:8},o.a.createElement(p.a,{size:"lg",className:"mb-3"},o.a.createElement(p.a.Prepend,null,o.a.createElement(p.a.Text,{id:"inputGroup-sizing-sm"},"\u8acb\u8f38\u5165AuthorToken")),o.a.createElement(g.a,{id:"deviceInput","aria-label":"Small","aria-describedby":"inputGroup-sizing-sm",defaultValue:localStorage.getItem("authorToken"),onFocus:function(e){e.target.select()}})))),o.a.createElement(f.a,{className:"maringTop20"},o.a.createElement(E.a,{sm:8},o.a.createElement(p.a,{size:"lg",className:"mb-3"},o.a.createElement(p.a.Prepend,null,o.a.createElement(p.a.Text,null,"\u8acb\u9078\u64c7\u641c\u5c0b\u534a\u5f91(KM)")),o.a.createElement(d.a.Control,{defaultValue:.5,as:"select",custom:!0,onChange:function(e){return C(e.target.value)},style:{width:"30%"}},o.a.createElement("option",null,"0.3"),o.a.createElement("option",null,"0.5"),o.a.createElement("option",null,"0.7"),o.a.createElement("option",null,"1"),o.a.createElement("option",null,"1.5"),o.a.createElement("option",null,"2"),o.a.createElement("option",null,"100"))))),o.a.createElement(f.a,null,o.a.createElement(s.a,{variant:"warning",className:"maringTop20",onClick:function(){return function(){var t=document.getElementById("deviceInput").value;localStorage.setItem("authorToken",t);var n={authorToken:t,lat:a.lat,long:a.long,radius:j};fetch("http://127.0.0.1:8000/autoSearch/",{method:"POST",body:JSON.stringify(n),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(t){e.setStatus("busy"),console.log("Success:",t)}))}()}},"\u555f\u52d5\u81ea\u52d5\u9810\u7d04"))):o.a.createElement("div",null,"\u7121\u6cd5\u53d6\u5f97\u7576\u524d\u4f4d\u7f6e")))};n(35);var v=function(){var e=o.a.useState(),t=Object(l.a)(e,2),n=t[0],a=t[1];function r(){fetch("http://127.0.0.1:8000/checkJobExist/").then((function(e){return e.json()})).then((function(e){a(e.message)})).catch((function(e){console.log(e)}))}return o.a.useEffect((function(){r()}),[]),o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},"free"===n?o.a.createElement(h,{setStatus:function(e){return a(e)}}):o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null,"\u6b63\u5728\u9032\u884c\u81ea\u52d5\u5316\u9810\u7d04iRent"),o.a.createElement(s.a,{variant:"danger",className:"maringTop20",onClick:function(){fetch("http://127.0.0.1:8000/cancelAllJob/").then((function(e){return e.json()})).then((function(e){"Success"===e.message&&r()})).catch((function(e){console.error(e)}))}},"\u53d6\u6d88\u9810\u7d04\uff1f"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.73f58b04.chunk.js.map