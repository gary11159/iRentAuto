(this.webpackJsonpiRentAutoFrontEnd=this.webpackJsonpiRentAutoFrontEnd||[]).push([[0],{24:function(e,t,n){e.exports=n.p+"static/media/loading.7a960949.gif"},26:function(e,t,n){e.exports=n(38)},31:function(e,t,n){},32:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(11),c=n.n(r),l=(n(31),n(7)),i=(n(32),n(19)),u=n.n(i),s=n(23),m=n(14),d=n(20),p=n(8),f=n(13),g=n(25),h=n(9),E=n(16),S=n(15);var v=function(e){var t=o.a.useState(),n=Object(l.a)(t,2),a=n[0],r=n[1],c=o.a.useState(),i=Object(l.a)(c,2),v=i[0],k=i[1],y=o.a.useState(.5),b=Object(l.a)(y,2),w=b[0],T=b[1],N=o.a.useState(null),j=Object(l.a)(N,2),x=(j[0],j[1]);function C(e){r((function(t){return{lat:e.coords.latitude,lng:e.coords.longitude}})),k((function(e){return"success"}))}function O(){k((function(e){return"error"}))}function L(){return(L=Object(s.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=document.getElementById("deviceInput").value,localStorage.setItem("authorToken",n),e.setLoadingStatus(!0),t.next=5,fetch("https://garyapi.herokuapp.com/checkToken/",{method:"POST",body:JSON.stringify({idNo:"F129328672",token:n}),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).catch((function(t){console.error("Error:",t),e.setLoadingStatus(!1),alert("\u7121\u6548Token")})).then((function(t){e.setLoadingStatus(!1),"Success"===t.message?F():alert("\u7121\u6548Token")}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function F(){var t={authorToken:localStorage.authorToken,lat:a.lat,long:a.lng,radius:w};e.setLoadingStatus(!0),fetch("https://garyapi.herokuapp.com/autoSearch/",{method:"POST",body:JSON.stringify(t),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).catch((function(t){console.error("Error:",t),e.setLoadingStatus(!1)})).then((function(t){e.setStatus("busy"),e.setLoadingStatus(!1),console.log("Success:",t)}))}function A(){navigator.geolocation.getCurrentPosition(C,O)}return o.a.useEffect((function(){A()}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,null,"success"===v?o.a.createElement(d.a,null,o.a.createElement(p.a,null,"\u7576\u524d\u5ea7\u6a19"),o.a.createElement(p.a,null,"N: "+a.lat.toFixed(3)+", S: "+a.lng.toFixed(3)),o.a.createElement(p.a,{className:"maringTop20"},o.a.createElement(f.a,{sm:8},o.a.createElement(h.a,{size:"lg",className:"mb-3"},o.a.createElement(h.a.Prepend,null,o.a.createElement(h.a.Text,{id:"inputGroup-sizing-sm"},"\u8acb\u8f38\u5165AuthorToken")),o.a.createElement(E.a,{id:"deviceInput","aria-label":"Small","aria-describedby":"inputGroup-sizing-sm",defaultValue:localStorage.getItem("authorToken"),onFocus:function(e){e.target.select()}})))),o.a.createElement(p.a,{className:"maringTop20"},o.a.createElement(f.a,{sm:8},o.a.createElement(h.a,{size:"lg",className:"mb-3"},o.a.createElement(h.a.Prepend,null,o.a.createElement(h.a.Text,null,"\u8acb\u9078\u64c7\u641c\u5c0b\u534a\u5f91(KM)")),o.a.createElement(g.a.Control,{defaultValue:.5,as:"select",custom:!0,onChange:function(e){return T(e.target.value)},style:{width:"30%"}},o.a.createElement("option",null,"0.3"),o.a.createElement("option",null,"0.5"),o.a.createElement("option",null,"0.7"),o.a.createElement("option",null,"1"),o.a.createElement("option",null,"1.5"),o.a.createElement("option",null,"2"),o.a.createElement("option",null,"100"))))),o.a.createElement(p.a,null,o.a.createElement(S.c,{googleMapsApiKey:"AIzaSyCcLoBWrSwqFI5uxY_8qdhqCkse_QEcRDM"},o.a.createElement(S.a,{mapContainerStyle:{width:"100%",height:"600px"},zoom:15,onLoad:function(e){return x(e)},onClick:function(e){return r(e.latLng.toJSON())},center:a},o.a.createElement(S.d,{position:a},o.a.createElement(S.b,null,o.a.createElement("div",{className:"infoWindow",style:{color:"black"}},"\u4ee5\u9019\u88e1\u70ba\u57fa\u6e96\u641c\u5c0b")))))),o.a.createElement(p.a,{className:"maringTop20"},o.a.createElement(m.a,{variant:"warning",onClick:function(){return function(){return L.apply(this,arguments)}()},style:{marginRight:"20px"}},"\u555f\u52d5\u81ea\u52d5\u9810\u7d04"),o.a.createElement(m.a,{variant:"info",onClick:function(){return A()}},"\u56de\u5230\u7576\u524d\u4f4d\u7f6e"))):o.a.createElement("div",null,"\u7121\u6cd5\u53d6\u5f97\u7576\u524d\u4f4d\u7f6e")))},k=(n(37),n(24)),y=n.n(k),b=function(e){return o.a.createElement("div",{id:"loader-wrapper",style:{opacity:"0.8"}},o.a.createElement("div",{id:"loader"},o.a.createElement("img",{src:y.a,alt:""})),o.a.createElement("div",{className:"loader-section section-left"}),o.a.createElement("div",{className:"loader-section section-right"}))};var w=function(){var e=o.a.useState(),t=Object(l.a)(e,2),n=t[0],a=t[1],r=o.a.useState(!1),c=Object(l.a)(r,2),i=c[0],u=c[1];function s(){u(!0),fetch("https://garyapi.herokuapp.com/checkJobExist/").then((function(e){return e.json()})).then((function(e){u(!1),a(e.message)})).catch((function(e){a("Error"),u(!1),console.log(e)}))}return o.a.useEffect((function(){s()}),[]),o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},i&&o.a.createElement(b,null),"free"===n?o.a.createElement(v,{setStatus:function(e){return a(e)},setLoadingStatus:function(e){return u(e)}}):"busy"===n?o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null,"\u6b63\u5728\u9032\u884c\u81ea\u52d5\u5316\u9810\u7d04iRent"),o.a.createElement(m.a,{variant:"danger",className:"maringTop20",onClick:function(){return u(!0),void fetch("https://garyapi.herokuapp.com/cancelAllJob/").then((function(e){return e.json()})).then((function(e){u(!1),"Success"===e.message&&s()})).catch((function(e){u(!1),console.error(e)}))}},"\u53d6\u6d88\u9810\u7d04\uff1f")):null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.2c48d9de.chunk.js.map